package com.atc.web.controller.customerAccount;import com.atc.common.model.CommonResultModel;import com.atc.common.util.SessionUtil;import com.atc.domains.customerAccount.entity.CustomerAccount;import com.atc.domains.home.entity.Actor;import com.atc.service.customerAccount.ICustomerAccountService;import com.atc.web.AbstractController;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;import java.util.List;/** * Created with IntelliJ IDEA. * User: Vic.Feng * Date: 09/11/15 * Time: 16:04 * To change this template use File | Settings | File Templates. */@Controllerpublic class CustomerAccountController extends AbstractController {    private final Logger logger = LoggerFactory.getLogger(CustomerAccountController.class);    @Autowired    ICustomerAccountService customerAccountService;    /**     * Display customer account add page     *     * @return customer account add page     */    @RequestMapping("/customerAccount/addPage")    public String showAddCustomerAccountPage() {        return "customerAccount/customerAccountAdd";    }    /**     * Add new customer account     *     * @param customerAccount     * @return CommonResultModel     */    @RequestMapping(value = "/customerAccount", method = RequestMethod.POST)    @ResponseBody    public CommonResultModel addAccount(@RequestBody CustomerAccount customerAccount, HttpServletRequest request) {        Actor user = SessionUtil.getSessionUser(request);        customerAccount.setOrg(user.getOrg());        CommonResultModel result = new CommonResultModel();        if (customerAccountService.addAccount(customerAccount) > 0) {            //result.setCode(0);            result.setMessage("Add Successfully");        } else {            //  result.setCode(1);            result.setMessage("Add Error");        }        return result;    }    /**     * Get customer account list     *     * @return customer account list     */    @RequestMapping(value = "/customerAccounts")    @ResponseBody    public List<CustomerAccount> getAccounts(HttpServletRequest request) {        Actor user = SessionUtil.getSessionUser(request);        return customerAccountService.getAccounts(user.getOrg());    }}