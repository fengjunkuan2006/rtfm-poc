package com.atc.web.controller.asset;import com.atc.common.model.CommonResultModel;import com.atc.domains.asset.entity.Asset;import com.atc.service.asset.IAssetService;import com.atc.web.AbstractController;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.*;import org.springframework.web.servlet.ModelAndView;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;import java.util.List;/** * Created with IntelliJ IDEA. * User: Vic.Feng * Date: 09/11/15 * Time: 16:04 * To change this template use File | Settings | File Templates. */@Controllerpublic class AssetController extends AbstractController {    private final Logger logger = LoggerFactory.getLogger(AssetController.class);    @Autowired    IAssetService assetService;    /**     * Display Asset Page     *     * @return Asset Page     */    @RequestMapping(value = "/asset/addPage")    public ModelAndView index() {        return new ModelAndView("asset/assetAdd");    }    /**     * Add new asset     *     * @param asset     * @return     */    @RequestMapping(value = "/asset", method = RequestMethod.POST)    @ResponseBody    public CommonResultModel addAsset(@RequestBody Asset asset) {        CommonResultModel result = new CommonResultModel();        if (assetService.addAsset(asset) > 0) {            //result.setCode(0);            result.setMessage("Add Successfully");        } else {            //  result.setCode(1);            result.setMessage("Add Error");        }        return result;    }    /**     * Show Asset Update Page     *     * @param id Asset ID     * @return Update Page     */    @RequestMapping(value = "/asset/{id}")    public ModelAndView showAssetUpdatePage(@PathVariable("id") Integer id) {        Asset assets = assetService.get(id);        ModelAndView mav = new ModelAndView();        mav.addObject("assets", assets);        mav.setViewName("asset/assetEdit");        return mav;    }    /**     * Update Asset And return to assets Page     *     * @param id Asset keyId     * @param assets     * @return assets Page     */    @RequestMapping(value = "/asset/{id}", method = RequestMethod.POST)    public ModelAndView update(@PathVariable("id") Integer id, Asset assets) {        assetService.update(id, assets);        return new ModelAndView("asset/assets");    }    /**     * Display Login Page     *     * @return Login Page     */    @RequestMapping(value = "/asset/searchPage")    public ModelAndView showAssetSearchPage() {        return new ModelAndView("asset/assetSearch");    }    /**     * FindAssets And To assets Page     *     * @param assets     * @param request     * @return ModeleAndView     */    @RequestMapping(value = "/assets", method = RequestMethod.POST)    public ModelAndView findAssets(Asset assets, HttpServletRequest request) {        List<Asset> list = assetService.findAssets(assets);        ModelAndView mav = new ModelAndView();        HttpSession session = request.getSession();        session.setAttribute("list", list);        mav.setViewName("asset/assets");        return mav;    }}